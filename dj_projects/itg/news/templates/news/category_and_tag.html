{% extends 'news/base.html' %}
{% load i18n %}

{% block title %}FN - {% trans 'Новости по фильтру'  %} {% endblock %}

{% block content %}
<section class="news">
    <h3>{{ filter }}</h3>
    <p>{% trans 'Всего статей:' %} {{ articles_count }}</p>

    {% if articles %}
        <ul>
            {% for item in articles %}
                <li>
                    <a href="{% url 'news:article_detail' slug=item.slug %}">{{ item.title }}</a>
                    {% if item.category %}
                        <span class="category">
                            ({% trans 'Категория:'  %}
                            <a href="{% url 'news:filtered_news' 'category' item.category.name %}">
                                {{ item.category.name }}
                            </a>)
                        </span>
                    {% endif %}
                    <br>
                    {% if item.tags.all %}
                        <span class="tags">
                            ({% trans 'Теги:'  %}
                            {% for tag in item.tags.all %}
                                <a href="{% url 'news:filtered_news' 'tag' tag.name %}">{{ tag.name }}</a>{% if not forloop.last %}, {% endif %}
                            {% endfor %}
                            )
                        </span>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>{% trans 'Нет новостей для отображения.'  %} </p>
    {% endif %}
</section>
{% endblock %}
